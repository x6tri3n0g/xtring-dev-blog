+++ 
title= "3. 도커를 시작해보자" 
date= 2025-05-05
tags= ["docker"] 
draft= true 
+++

## Section 01) 도커를 사용하려면

> 도커를 설치하고 사용해보자

### 도커는 기본적으로 리눅스용이지만 윈도우와 macOS에서도 사용할 수 있다

> 도커를 사용하기 위해서는 `도커 엔진`이 필요하다. 도커 엔진을 설치하려면 기본적으로 리눅스 운영체제가 필요하다. 하지만 리눅스 컴퓨터가 아니면 도커를 사용할 방법이 없는 것은 아니다. VirtualBox나 VMware 같은 가상화 소프트웨어에서 만든 가상 머신을 이용해 윈도우나 macOS에서 리눅스 환경을 구축하거나 윈도우용/macOS용 도커를 사용해 윈도우 및 macOS에서 도커를 사용할 수 있다.

#### 도커 환경을 구축하는 세 가지 방법

1. 리눅스 컴퓨터에서 도커 사용하기
2. 가상 머신이나 렌탈 환경에서 도커를 설치하고 윈도우나 macOS를 통해 사용하기
3. 윈도우용/macOS용 도커 사용하기
   --> 준비 과정에 조금 차이가 있을 뿐이지 명령어는 공통적으로 사용 가능

### 윈도우용/macOS용 도커 사용하기

#### 윈도우와 macOS에서는 리눅스 운영체제가 들어있는 패키지(도커 데스크톱)을 사용한다

`도커 데스크톱`

- 윈도우와 macOS에서 각각 윈도우/macOS용 도커 데스크톱 패키지가 제공됨
  - 이 패키지에는 리눅스 운영체제 등 실행환경이 있음
- 리눅스에서 도커를 설치하려면 도커 엔진만 있으면 됨

```
도커 데스크톱 - macOS용
[패키지]
ㄴ도커 엔진
	ㄴ리눅스 운영체제
	ㄴ가상환경(Hyper-Kit)
```

- 각 OS 별 도커 데스크톱은 사용자에게 보이지 않는 `가상의 리눅스 환경`을 만들고 이 환경에서 도커 엔진을 구동하는 구조를 가짐
- OS 별 도커 데스크톱을 사용하는 것과 가상머신을 통해 도커 실행하는 가상화 부분은 약간의 차이를 가지고 있음
  - 윈도우용 도커 데스크톱은 물리적 컴퓨터 위에 윈도우와 가상환경이 완전히 분리됨
  - 가상머신을 사용하는 방법은 물리적 컴퓨터 위에 윈도우를 통한 가상환경을 통해 리눅스 환경을 구성하여 도커를 실행
- 도커 데스크톱은 각각 윈도우에서 Hyper-V, macOS에서 HyperKit을 사용
  - Hyper-V는 윈도우에 포함
  - HyperKit은 도커 데스크톱 패키지에 포함

#### 도커 데스크톱은 일반적인 소프트웨어처럼 사용한다

- 도커 데스크톱을 사용하면, **가상화 소프트웨어나 리눅스 운영체제의 존재를 신경 쓰지 않아도 됨**
  - 따라서, 가상 소프트웨어와 그 속에 있는 리눅스 운영체제를 실행하는 것에 신경쓰지 않고 사용 가능
- 실제 도커 엔진을 다룰 때는 명령형 인터페이스를 통해 조작

#### 운영체제가 두 개라니 괜찮을까?

- 가상환경의 운영체제는 **도커가 전용으로 사용하는 숨겨진 운영체제**
- 가상환경의 운영체제는 운영체제와 분리되어 실행

#### 도커 데스크톱을 사용하기 위한 조건과 도커 데스크톱이 불안정한 경우

- 윈도우에서는 Hyper-V(윈도우용 가상환경)가 활성 상태여야 함
- macOS에서는 사용 요건 외 따로 필요한 조건 없음
- 도커 데스크톱이 불안정해지는 증상
  - 매우 느려지는 경우: VirtualBox 또는 VMware 같은 가상화 소프트웨어와 충돌을 일으킨 경우
    - 가상환경(Hyper-V)이 불안정해 일어나는 문제
      - 보통 윈도우 및 가상화 소프트웨어를 모두 최신으로 업데이트하면 버그가 해결

#### Column: 도커 데스크톱과 툴박스 버전의 차이

- 도커 데스크톱이 나오기 전 윈도우와 macOS에서는 도커 툴박스 버전을 사용
- 툴박스 버전은 레거시(구 버전)으로 넘어가 사용을 비추천

```
도커 데스크톱
ㄴ 윈도우용 도커 데스크톱
ㄴ macOS용 도커 데스크톱

툴박스 버전(구 버전)
ㄴ 윈도우용 툴박스 버전
ㄴ macOS용 툴박스 버전
```

- 도커 데스크 톱과 툴박스 버전의 차이
  - 구성은 비슷
  - 가상화 소프트웨어에서 큰 차이가 있음
    - 윈도우는 Hyper-V / macOS는 HyperKit
    - 툴박스는 윈도우/macOS 모두 VirtualBox

### 도커를 실행하기 위한 조건

- 도커는 **64비트 운영체제**에서만 동작

#### 운영체제가 64비트인지 확인

- 컴퓨터에는 32비트 컴퓨터와 64비트 컴퓨터가 있음

#### macOS 버전의 사용 조건

- 2010년 이후에 발매된 모델
- macOS 10.13(하이 시에라) 이후 버전
- 메모리 4GB 이상

## Section2) 도커 설치

### 도커는 간단히 설치할 수 있다

- GUI를 통해 쉽게 확인하고 설치 가능

#### Column: 도커를 설치하면 컴퓨터가 느려진다?

- 컨테이너를 실행하지 않으면 컴퓨터가 느려지는 일은 없음

### 도커 데스크톱의 화면 확인

도커 데스크톱의 구성에 대해서 설명

- [Container/Apps] 탭
  - 실행 중인 컨테이너의 목록을 확인할 수 있음
- [Images] 탭
  - 내려받은 도커 이미지 목록 확인

#### WSL2에서 동작하는지 여부 확인

- (윈도우에서) 도커 엔진이 WSL2 상에서 동작하고 있는지를 알 수 있다면 편리하다
  - Settings 화면에서 [General] 탭 클릭한 다음, [Use the WSL2 based engine] 항목이 체크되어 있는지 확인
    - 이 항목을 체크하면 도커 엔진이 Hyper-V를 통해 동작

## Section3) 도커의 조작 방법과 명령 프롬프트 및 터미널 실행

### 도커는 명령 프롬프트 또는 터미널에서 다룬다

- CUI를 통해 통해 도커를 다룸
- 윈도우는 `명령 프롬프트`, macOS에서는 `터미널`에서 다룸

### 명령 프롬프트 및 터미널에 대해 주의할 점

'penguin'인 컨테이너가 있다

- 컨테이너를 실행하려면 `docker run penguin`
- 정지하기 위해서는 `docker stop penguin`

#### 프롬프트는 현재 사용자를 나타낸다

- macOS

```
# [호스트명]: ~[사용자명] $
#예: chiropc: ~chiro $
```
